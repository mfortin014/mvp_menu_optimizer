# .envrc â€” uses Bitwarden to inject all project secrets into the shell
: "${BWS_ACCESS_TOKEN:?Set BWS_ACCESS_TOKEN (Bitwarden machine token) before entering this dir.}"

# Replace with your real UUID
PROJECT_ID="4b5e71e8-c979-4125-acba-b37101280d71"

# Ensure the CLI exists
command -v bws >/dev/null 2>&1 || { echo "bws not found. Install bws first."; exit 1; }

# Export all project secrets:
# Prefix each line with `export` so they are set as env variable for this shell.
eval "$(bws secret list "$PROJECT_ID" -o env | sed 's/^/export /')"

# Confirm (names only; no values)
echo "[direnv] BWS injected: $(bws secret list "$PROJECT_ID" -o env | cut -d= -f1 | xargs)"
