{
  "job_id": "11111111-2222-3333-4444-555555555555",
  "tenant_id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
  "job_file_id": "99999999-8888-7777-6666-555555555555",
  "stg_component": [
    {
      "job_id": "11111111-2222-3333-4444-555555555555",
      "job_file_id": "99999999-8888-7777-6666-555555555555",
      "tenant_id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
      "source_row_id": "component:roma-tomato",
      "source_row_num": 2,
      "row_checksum": "f7f83d8f470b498f9f15b9bd3b69c25d671a4d1f895e62fbccd1bbfda5ae0f61",
      "payload": {
        "name": "Roma Tomato",
        "ingredient_code": "ROMA-001",
        "base_uom": "g",
        "package_qty": 5000,
        "package_uom": "g",
        "package_cost": 32.5
      },
      "provenance": {
        "source_system": "wizard",
        "file_name": "components.csv",
        "column_map": {
          "ingredient_code": "code",
          "name": "ingredient_name",
          "package_qty": "pack_qty",
          "package_cost": "pack_cost"
        }
      },
      "validation_errors": []
    }
  ],
  "stg_variant": [
    {
      "job_id": "11111111-2222-3333-4444-555555555555",
      "job_file_id": "99999999-8888-7777-6666-555555555555",
      "tenant_id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
      "source_row_id": "variant:roma-tomato:bulk",
      "source_row_num": 5,
      "row_checksum": "e4b1dc0fd878bbad4595f2ce0b5ba0f3f3d8f2fba90520a66e0c6ec92d6d24b2",
      "payload": {
        "variant_code": "ROMA-001-BULK",
        "parent_code": "ROMA-001",
        "uom": "g",
        "yield_pct": 94.5,
        "unit_cost": 0.0094
      },
      "provenance": {
        "source_system": "wizard",
        "file_name": "variants.csv",
        "column_map": {
          "variant_code": "variant_id",
          "parent_code": "ingredient_code",
          "unit_cost": "cost_per_g"
        }
      },
      "validation_errors": []
    }
  ],
  "stg_recipe": [
    {
      "job_id": "11111111-2222-3333-4444-555555555555",
      "job_file_id": "aaaaaaaa-1111-2222-3333-bbbbbbbbbbbb",
      "tenant_id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
      "source_row_id": "recipe:sauce-base",
      "source_row_num": 12,
      "row_checksum": "5b10a1ed4c1fb8c8db5fc24159b9e33989fdcef6c1ec93d6f9a0a8fb6f80b9f4",
      "payload": {
        "recipe_code": "SAUCE-BASE",
        "name": "House Sauce Base",
        "recipe_type": "prep",
        "yield_qty": 8,
        "yield_uom": "kg"
      },
      "provenance": {
        "source_system": "wizard",
        "file_name": "recipes.csv",
        "column_map": {
          "recipe_code": "code",
          "name": "label",
          "yield_qty": "batch_qty",
          "yield_uom": "batch_uom"
        }
      },
      "validation_errors": [
        {
          "severity": "warning",
          "message": "No selling price provided; defaulting to 0."
        }
      ]
    }
  ],
  "stg_recipe_line": [
    {
      "job_id": "11111111-2222-3333-4444-555555555555",
      "job_file_id": "aaaaaaaa-1111-2222-3333-bbbbbbbbbbbb",
      "tenant_id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
      "source_row_id": "recipe_line:sauce-base:roma-tomato",
      "source_row_num": 13,
      "row_checksum": "7eba62385eaf1bf6d14ed7e70b512ba384dc377d030c2d29c4684bd6b9bcf5fe",
      "payload": {
        "recipe_code": "SAUCE-BASE",
        "ingredient_code": "ROMA-001",
        "quantity": 2.4,
        "uom": "kg"
      },
      "provenance": {
        "source_system": "wizard",
        "file_name": "recipe_lines.csv",
        "column_map": {
          "recipe_code": "parent_code",
          "ingredient_code": "input_code",
          "quantity": "qty",
          "uom": "qty_uom"
        }
      },
      "validation_errors": []
    }
  ],
  "stg_party": [
    {
      "job_id": "11111111-2222-3333-4444-555555555555",
      "job_file_id": "bbbbbbbb-cccc-dddd-eeee-ffffffffffff",
      "tenant_id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
      "source_row_id": "party:freshtable",
      "source_row_num": 3,
      "row_checksum": "6e8c8415d20cbf0eb248f96d9edb23ac823672edd925538e38ff6d0005cbf0bd",
      "payload": {
        "party_code": "VEND-FRESHTABLE",
        "name": "FreshTable Produce",
        "party_type": "supplier",
        "default_currency": "CAD"
      },
      "provenance": {
        "source_system": "wizard",
        "file_name": "parties.csv",
        "column_map": {
          "party_code": "vendor_code",
          "name": "vendor_name"
        }
      },
      "validation_errors": []
    }
  ],
  "stg_uom_conversion": [
    {
      "job_id": "11111111-2222-3333-4444-555555555555",
      "job_file_id": "bbbbbbbb-cccc-dddd-eeee-ffffffffffff",
      "tenant_id": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee",
      "source_row_id": "uom:ml:g:aioli",
      "source_row_num": 7,
      "row_checksum": "2999d78c87ea120f3e4ab132c0866e4ff48f3d39198750d21965ca9a4a9b7336",
      "payload": {
        "item_code": "AIOLI-HOUSE",
        "from_uom": "ml",
        "to_uom": "g",
        "factor": 0.96
      },
      "provenance": {
        "source_system": "wizard",
        "file_name": "uom_conversions.csv",
        "column_map": {
          "item_code": "variant_code",
          "factor": "density"
        }
      },
      "validation_errors": [
        {
          "severity": "info",
          "message": "Density derived from 20C water equivalence."
        }
      ]
    }
  ]
}
